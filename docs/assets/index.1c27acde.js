import{o as u,c as p,F as C,r as P,a as L,b as _,t as g,d as A,w as U,v as O,u as m,e as k,f as B,g as w,h as N,k as V,i as D,E as b,j as Q,l as R,m as z,n as T,p as G,q as F,s as J,x as $,y as i,z as y,A as I,B as W,J as M,C as S,D as H}from"./vendor.b08cb93b.js";const Y=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))t(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&t(a)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}};Y();const K={key:0,class:"inset-0 fixed z-99 bg-gray-900 text-gray-100 text-center p-10 opacity-90"},Z=_("div",null," Setting up python environment ",-1),X={props:["loading"],setup(s){return(e,r)=>s.loading?(u(),p("div",K,[Z,(u(!0),p(C,null,P(s.loading,t=>(u(),p("div",{class:"pt-3",key:t},g(t),1))),128))])):L("",!0)}},e1={props:["state"],setup(s){const e=s,r=A(()=>e.state.errors);return(t,n)=>U((u(),p("div",{class:"bg-red-200 font-mono whitespace-pre p-2 max-h-1/3 overflow-scroll"},g(m(r)),513)),[[O,m(r)]])}},t1={class:"flex-1"},r1={class:"opacity-20 text-sm"},s1={key:0,class:"flex-x sm:w-1/2 overflow-y-scroll"},n1={props:{title:{type:String,required:!0},visible:{type:Boolean,default:!0}},setup(s){const e=s,r=k(e.visible),t=()=>{r.value=!r.value};return(n,o)=>(u(),p(C,null,[_("div",{class:"flex cursor-pointer select-none p-1 pl-9 bg-gray-100 border-0 border-t-1 border-red-700",onClick:t},[_("div",t1,g(e.title),1),_("div",r1," ("+g(r.value?"visible":"hidden")+") ",1)]),r.value?(u(),p("div",s1,[B(n.$slots,"default")])):L("",!0)],64))}};function o1(s,e){let r;return(...t)=>{clearTimeout(r),r=setTimeout(()=>{s.apply(this,t)},e)}}const a1={props:["value","indent","readonly","mode"],emits:["update:value"],setup(s,{emit:e}){const r=s,t=k(),n=o1(a=>{const c=a.toString();e("update:value",c)},200);let o;return w(()=>{const a=[N,V.of([D]),b.lineWrapping,b.updateListener.of(l=>{l.docChanged&&n(l.state.doc)})],d={python:F,json:J}[r.mode];d&&a.push(d()),r.indent&&a.push(Q.of(Array(r.indent).fill(" ").join(""))),r.readonly&&a.push(b.editable.of(!1)),o=new b({parent:t.value,state:R.create({doc:r.value,extensions:a})}),z(T(r,"value"),l=>{l=l||"",!(o.state.doc.length===l.length||o.state.doc.toString()===l)&&o.dispatch({changes:{from:0,to:o.state.doc.length,insert:l}})})}),G(()=>{o.destroy()}),(a,c)=>(u(),p("div",{ref:(d,l)=>{l.el=d,t.value=d}},null,512))}},c1={class:"flex flex-col flex-wrap items-stretch border-0 border-b-1 border-red-700"},l1=_("div",{class:"sm:flex-break border-0 sm:border-r-1 border-red-700"},null,-1),i1={props:["state"],setup(s){const r=$(s.state);return(t,n)=>{const o=a1,a=n1;return u(),p("div",c1,[i(a,{title:"Strawberry Schema"},{default:y(()=>[i(o,{mode:"python",value:m(r).code,"onUpdate:value":n[0]||(n[0]=c=>m(r).code=c),indent:4},null,8,["value"])]),_:1}),i(a,{title:"GraphQL Query"},{default:y(()=>[i(o,{value:m(r).query,"onUpdate:value":n[1]||(n[1]=c=>m(r).query=c)},null,8,["value"])]),_:1}),i(a,{title:"Query Variables",visible:!1},{default:y(()=>[i(o,{mode:"json",value:m(r).variables,"onUpdate:value":n[2]||(n[2]=c=>m(r).variables=c)},null,8,["value"])]),_:1}),l1,i(a,{title:"Query Results"},{default:y(()=>[i(o,{mode:"json",value:m(r).results,readonly:!0},null,8,["value"])]),_:1}),i(a,{title:"GraphQL Schema"},{default:y(()=>[i(o,{mode:"json",value:m(r).schema,readonly:!0},null,8,["value"])]),_:1})])}}},d1={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},u1=_("path",{d:"M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33c.85 0 1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2z",fill:"currentColor"},null,-1),p1=[u1];function m1(s,e){return u(),p("svg",d1,p1)}var _1={name:"mdi-github",render:m1};const h1={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},f1=_("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7c0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3a3 3 0 0 0-3-3a3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3a3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66c0 1.61 1.31 2.91 2.92 2.91c1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08z",fill:"currentColor"},null,-1),y1=[f1];function v1(s,e){return u(),p("svg",h1,y1)}var g1={name:"mdi-share-variant",render:v1},b1=(s,e)=>{for(const[r,t]of e)s[r]=t;return s};const x1={},w1={fill:"none",viewBox:"0 0 1952 2357",height:"90"},z1=I('<path d="M811 809c-120 0-237-40-334-113-88-66-237-194-249-311a127 127 0 0130-98c24-28 58-44 101-47l13-1c77 0 177 43 272 114-7-88 18-153 71-175h1c9-4 18-6 28-7h5c56 0 99 58 131 125C935 143 1027 7 1124 0h7c14 0 28 3 41 9 136 59 78 330 29 464a576 576 0 01-292 324l-9 5-10 1a524 524 0 01-79 6z" fill="#1D1D1B"></path><path d="M842 736c-116 8-231-27-325-98-129-98-214-197-220-260a54 54 0 0113-43c12-15 29-22 53-24 76-5 196 55 299 149l97 89-34-130c-22-87-15-161 16-174l1-1 6-2c17-1 59 41 99 158l42 125 33-128c49-189 146-321 206-325 6 0 11 1 17 3 66 29 48 216-9 373a506 506 0 01-256 285l-38 3z" fill="url(#prefix__paint0_linear)"></path><path d="M1075 2357c-32-1-62-12-87-33-27 16-58 24-89 23-42 1-83-13-116-39-27-21-51-45-74-71-12 6-25 9-38 9-32 0-59-18-76-31a1669 1669 0 01-416-532c-12-23-65-131-71-221-34-45-60-96-75-150a205 205 0 0132-176c-53-61-77-152-59-245a626 626 0 01187-305c26-24 53-37 81-37a88 88 0 0168 29c27-31 60-57 96-76 33-18 71-28 109-28 40 0 80 12 114 34a237 237 0 01211-131 216 216 0 01157 69c7-12 14-23 22-33a133 133 0 01129-43c76 13 146 51 200 108l11-16a86 86 0 0165-31c6 0 12 0 17 2 28 5 75 26 126 95a83 83 0 0140 2h2a75 75 0 0185-14c155 69 206 304 222 489 7 80 13 262-66 332l-1 12c-28 277-143 579-301 789-8 10-24 31-50 42-20 47-50 87-103 88h-2c-11 0-23-2-33-7a96 96 0 01-59 32l-21 1-27-3-3 4a118 118 0 01-88 41h-3c-15 0-29-4-42-11a87 87 0 01-50 30l-24 2z" fill="#1D1D1B"></path><path d="M1870 1004c-12-134-51-372-180-429-33-15-3 102 3 138l-3-1c-13-32-47-112-78-120-26-7-28 29-19 73h-3c-29-65-85-158-139-169-42-8-32 113-19 199-56-131-143-239-273-262-113-20-105 163-94 270-17-127-97-295-247-255-88 23-125 103-138 196-34-92-130-134-220-86-63 33-119 99-145 173-5-59-23-158-85-99A553 553 0 0064 898c-19 94 20 201 116 231v5l-19 4c-61 18-86 89-71 147 15 53 41 102 77 144-5 69 47 183 63 214 93 180 237 383 397 508 81 63 45-67 22-134 55 97 83 162 167 227 60 48 172 23 156-54 31 72 74 94 104 87 25-5 30-64 22-115-6-38-7-44-15-82h4c17 63 53 177 96 178 39 0 65-45 60-102l-7-60c25 113 45 123 78 119 37-6 45-82 47-156 1-37 0-19-2-56l4-1c6 50 5 188 53 187 36-1 54-80 69-139-5 48-1 78 31 36 154-204 261-491 287-751 2-17 1-34-2-51 6 1 13 0 18-3 58-29 58-199 51-277zm-601-28h5c16 0 36 30 37 50 1 15-4 26-19 27-18 1-33-25-35-47-1-15 3-25 12-30zm34 198l7-2c7 37 22 108 45 159-14-4-30-6-45-6 6-48-1-111-7-151zm-236-448l4 34c5 43 20 167 44 293-21-48-51-88-97-102l-1-8c54-64 58-139 50-217zm34 680c51-5 64-105 60-166 16 50 33 92 53 119-59 56-62 176-52 281-15-121-79-245-200-256 7-54 1-129-5-169-5-38-13-78-20-115l5-1c24 80 75 314 159 307zM951 927c-20 4-38-23-41-51-2-21 8-34 18-36 18-4 36 26 39 53 2 14 1 30-16 34zm-647-81c9 61 41 89 90 72 7-2 25-18 31-23-16 80-19 162-9 243 10 78 44 197 104 271-106 15-89 124-58 214 17 50 38 100 61 150-31-35-68-60-110-62l-2-5c21-10 45-36 9-133-9-23-19-45-31-66 69-53 43-223 31-287-20-107-65-262-196-279v-5c35-21 63-52 80-90zm55 831c-15-3-34-26-43-45-5-12-4-22 5-21 12 2 36 29 44 47 5 12 6 21-6 19zm79 135c-14-4-34-28-44-47-6-13-5-23 4-21 12 3 38 33 47 51 5 12 5 21-7 17zm245-166l-2-6c36-10 79-9 57-115-6-28-21-52-42-70 51-49 43-169 32-228-23-127-67-271-141-377 44 10 73-20 90-60 4 59 11 114 17 155 12 93 80 361 161 463-75 58-58 203-32 315-33-45-79-78-140-77zm161 368c25-13 38-36 43-63 13 41 26 82 41 122-19-28-44-48-79-42l-5-17zm225-149c-15 3-32-26-37-53-4-21 2-33 10-34 14-3 35 27 40 53 2 15-1 32-13 34zm63 24l-1-8c37-67 40-137 34-209l17 124c4 25 17 110 35 204-16-50-41-94-85-110v-1zm246-121c-15 6-27-18-29-44-2-20 7-33 14-36 14-5 30 20 31 45 0 13-4 30-16 35zm125 172c5-67 0-156-67-164v-8c37-57 59-123 64-191 19 48 50 86 98 69-50 92-76 192-95 293v1zm166-500c-4-70-53-154-126-143-55 9-70 79-71 132-9-18-20-35-34-49 59-41 75-219 73-288v-13c39 138 90 263 146 247 45-14 60-146 62-205h6c5 36 15 72 28 106l-3 1c-73 20-83 139-81 212z" fill="url(#prefix__paint1_linear)"></path><path d="M325 340c10 5-11 72 26 115-36-27-50-73-37-101 4-9 8-15 11-14zm463-30c-6 1-19-42-48-48 11-1 21 3 30 9 9 7 15 16 18 27v12zm374-63c-4 8-7 13-9 11-5-7 20-79 5-137 17 40 18 96 4 126zm466 1126c0 6-1 12-3 13-10 2-16-51-65-65 41 3 68 27 68 52m143-683c1 6 0 10-1 10-4-3-15-53-42-84 21 18 39 51 43 74zm-117-16l-1 8c-4-2-11-43-32-66 18 15 32 40 33 58zm-116-61c3 9 4 15 1 14-9-1-38-71-87-103 39 17 76 57 86 89zm-221-60c2 9 0 18-2 17-36-17-73-85-126-111 48 12 116 46 128 94zm-46 514a76 76 0 01-45-73c1-10 2-16 6-16 7 1 6 64 39 89zm-203-37c1 8 1 15-1 15-9 1-26-67-68-81 17 2 33 9 45 21 13 12 21 28 24 45zM881 876c8-1 22 66 65 81-35-1-64-32-67-63-1-10-1-17 2-18zm66-344c3 10-1 19-3 19-37-10-74-77-141-77 51-13 130 2 144 58zm-333 98c1 11 0 21-4 23-22 9-51-75-132-60 68-25 130-4 136 37zM247 976c41-5 76 37 87 78 3 12-3 19-6 20-12 4-32-87-81-98zm39-261c-1 14-3 26-7 28-15 9-18-88-55-77 37-24 65 0 62 49zm0 918c-3-8-3-11-1-10 3 1 23 44 48 64-20-12-37-31-47-54zm89 133c-2-5-2-8-1-7 4 1 22 40 45 59-19-13-34-31-44-52zm165 114c-12-5-51-95-110-140 46 24 96 83 109 122 3 11 4 19 1 18zm264-102c-14 0-58-77-129-102 56 8 113 48 127 83 4 12 5 19 2 19zm140 381c-9-4-28-61-73-96 38 19 70 55 74 83 2 8 1 13-1 13zm-260-673c-12 4-79-54-154-53 56-11 122 7 146 36 8 9 11 16 8 17zm262-54c47 5 101 23 112 68 3 10-1 19-3 19-30-6-68-55-115-78l6-9zm55 391c-2-10-2-17 0-17 7-1 26 71 62 90-28-4-55-41-62-73zm175 203c-7 2-21-71-58-86 29 2 55 33 59 69 1 9 1 16-1 17zm155-306c2-10 4-17 6-17 7-1-3 67 21 84-23-4-33-38-27-67zm141 141c0 8-1 15-3 16-7 5-9-60-45-63 30-7 50 15 48 47zm-63-414c-20 5-39-52-117-72l2-4c68 4 119 33 121 60 1 9-2 15-6 16zm374-129c0 6-2 10-3 10-5 2-6-43-35-57 11 2 21 8 28 16 7 9 10 20 10 31z" fill="#fff"></path><defs><linearGradient id="prefix__paint0_linear" x1="679.3" y1="82.8" x2="921.6" y2="743.4" gradientUnits="userSpaceOnUse"><stop stop-color="#11998E"></stop><stop offset="1" stop-color="#38EF7D"></stop></linearGradient><linearGradient id="prefix__paint1_linear" x1="849.7" y1="512.3" x2="1259.1" y2="2299.7" gradientUnits="userSpaceOnUse"><stop stop-color="#EE0979"></stop><stop offset="1" stop-color="#FF6A00"></stop></linearGradient></defs>',6),$1=[z1];function S1(s,e){return u(),p("svg",w1,$1)}var C1=b1(x1,[["render",S1]]);const L1=()=>({writeText:e=>{navigator.clipboard.writeText(e)}}),k1={class:"flex flex-row items-center p-2"},M1=_("div",{class:"flex-1 text-lg"}," Strawberry GraphQL Playground ",-1),j1={class:"flex flex-col sm:flex-row items-end sm:items-center space-x-5"},E1=["onClick"],q1={class:"text-red-700 hover:opacity-70 no-underline",href:"https://github.com/la4de/strawberry-playground",target:"_blank"},P1={class:"text-red-700 hover:opacity-70 no-underline",href:"https://strawberry.rocks/",target:"_blank"},A1={setup(s){const{writeText:e}=L1(),r=()=>{e(window.location.href),alert("Playground url copied to clipboard")};return(t,n)=>{const o=C1,a=g1,c=_1;return u(),p("div",k1,[i(o,{class:"h-10 pr-2"}),M1,_("div",j1,[_("a",{class:"text-red-700 hover:opacity-70 no-underline cursor-pointer",onClick:W(r,["prevent"])},[i(a,{class:"text-lg"})],8,E1),_("a",q1,[i(c,{class:"text-xl"})]),_("a",P1,[i(o,{class:"h-6 pr-.5"})])])])}}};const U1=async s=>{const e=new M;for(const[r,t]of Object.entries(s))e.file(r,t);return await e.generateAsync({type:"base64"})},O1=async s=>{const e=new M;await e.loadAsync(s,{base64:!0});const r={};for(const[t,n]of Object.entries(e.files))r[t]=await n.async("string");return r};var B1=`import strawberry

@strawberry.type
class User:
    name: str
    age: int

@strawberry.type
class Query:
    @strawberry.field
    def user(self) -> User:
        return User(name="Patrick", age=100)

schema = strawberry.Schema(query=Query)
`,N1=`{
  user {
    name
    age
  }
}
`,V1=`{
}
`;const D1=()=>{const s=$({code:B1.trim(),query:N1.trim(),variables:V1.trim()}),e=async()=>{const o=await U1({"schema.py":s.code,"query.gql":s.query,"variables.json":s.variables});window.location.hash=o};w(async()=>{const o=window.location.hash.slice(1);try{const a=await O1(o);s.code=a["schema.py"],s.query=a["query.gql"],s.variables=a["variables.json"]}catch{e()}});const{code:r,query:t,variables:n}=S(s);return z([r,t,n],e),s},Q1="modulepreload",j={},R1="/strawberry-playground/",T1=function(e,r){return!r||r.length===0?e():Promise.all(r.map(t=>{if(t=`${R1}${t}`,t in j)return;j[t]=!0;const n=t.endsWith(".css"),o=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${o}`))return;const a=document.createElement("link");if(a.rel=n?"stylesheet":Q1,n||(a.as="script",a.crossOrigin=""),a.href=t,document.head.appendChild(a),n)return new Promise((c,d)=>{a.addEventListener("load",c),a.addEventListener("error",d)})})).then(()=>e())},E="https://cdn.jsdelivr.net/pyodide/v0.18.1/full/";let v;const G1=async()=>{const s=E+"pyodide.js";await T1(()=>import(s),[]),v=await loadPyodide({indexURL:E,fullStdLib:!1})},F1=async s=>{await v.loadPackage(["micropip"]),s=s.map(e=>`"${e}"`),await v.runPythonAsync(`
    import micropip
    await micropip.install([${s}])
  `)},J1=async({packages:s,logging:e})=>(e=e||(()=>{}),v||(e("Loading pyodide"),await G1(),e("Loading python packages"),s&&await F1(s),e("Ready")),v),I1=["./strawberry_graphql-0.87.1-py3-none-any.whl"],W1=({code:s,query:e,variables:r})=>{const t=$({results:null,errors:null,loading:[],schema:null});return w(async()=>{const n=await J1({packages:I1,logging:o=>t.loading.push(o)});window.pyodide=n,z([s,e,r],async([o,a,c])=>{t.errors=null,t.schema=null;const d=n.globals;d.set("schema",null);try{n.runPython(o,d)}catch(f){t.results=null,t.errors=f.message;return}const l=d.get("schema");if(typeof l=="undefined"){t.results=null,t.errors="NameError: name 'schema' is not defined";return}t.schema=l.__str__();try{c=n.toPy(JSON.parse(c))}catch(f){t.results=null,t.errors=`${f.name}: ${f.message}`,l.destroy();return}const h=await l.execute(a,c);if(l.destroy(),h.errors){t.results=null;const f=h.errors.toJs();t.errors=f.map(q=>q.__str__()).join(`
`),h.destroy();return}const x=h.data.toJs({dict_converter:Object.fromEntries});t.results=JSON.stringify(x,null,2),h.destroy()},{immediate:!0}),t.loading=null}),S(t)},H1={class:"absolute inset-0 flex flex-col font-sans"},Y1={setup(s){const e=D1(),{results:r,errors:t,loading:n,schema:o}=W1(S(e));return e.results=r,e.errors=t,e.loading=n,e.schema=o,(a,c)=>{const d=A1,l=i1,h=e1,x=X;return u(),p("div",H1,[i(d),i(l,{class:"flex-1",state:m(e)},null,8,["state"]),i(h,{class:"max-h-5em sm:max-h-10em",state:m(e)},null,8,["state"]),i(x,{loading:m(e).loading},null,8,["loading"])])}}};H(Y1).mount("#app");
